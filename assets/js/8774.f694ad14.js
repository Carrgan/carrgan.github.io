"use strict";(self.webpackChunkcarrgan_io=self.webpackChunkcarrgan_io||[]).push([[8774],{9760:(e,t,n)=>{n.d(t,{A:()=>l});var s=n(5206),a=n(690),r=n(6540),c=n(4848);const l=e=>{let{onChange:t,accept:n}=e;const[l,i]=(0,r.useState)(),[o,u]=(0,r.useState)("Upload a file"),f=(0,r.createRef)();return(0,r.useEffect)((()=>{l&&(u(l.name),t(l))}),[l]),(0,c.jsxs)("div",{children:[(0,c.jsx)("input",{style:{display:"none"},ref:f,type:"file",accept:n,onChange:e=>(e=>{e?.files?.[0]&&i(e.files[0])})(e.target)}),(0,c.jsx)(s.A,{onClick:()=>{f.current?.click()},startDecorator:(0,c.jsx)(a.A,{}),children:(0,c.jsx)("span",{style:{maxWidth:"100px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:o})})]})}},6393:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var s=n(6540),a=n(1432),r=n(3959),c=n(1005),l=n(2864),i=n(8289),o=n(9760);const u="codeBlock_aLGy",f="textBox_mLHP",p=JSON.parse('{"description":{"title":"Contiguous U.S., Average Temperature","units":"Degrees Fahrenheit","base_period":"1901-2000"},"data":{"189512":{"value":"50.34","anomaly":"-1.68"},"189612":{"value":"51.99","anomaly":"-0.03"},"189712":{"value":"51.56","anomaly":"-0.46"}}}');var d=n(4848),h=function(e){return e.NULL="NULL",e.STRING="STRING",e.NUMBER="NUMBER",e.BOOLEAN="BOOLEAN",e}(h||{});const x=e=>"NULL"===e||"Null"===e||"null"===e,g=()=>{const[e,t]=(0,s.useState)(),[n,g]=(0,s.useState)(),[N,y]=(0,s.useState)(p),[S,m]=(0,s.useState)(JSON.stringify(p,null,"\t")),[j,L]=(0,s.useState)(!1),[A,O]=(0,s.useState)(),[b,v]=(0,s.useState)(!1),[E,B]=(0,s.useState)(""),[U,w]=(0,s.useState)(""),[R,C]=(0,s.useState)("Root");(0,s.useEffect)((()=>{e&&e.arrayBuffer().then((e=>g(e)))}),[e]);const k=e=>{if(x(e))return h.NULL;switch(typeof e){case"string":return h.STRING;case"number":case"bigint":return h.NUMBER;case"boolean":return h.BOOLEAN;case"function":case"object":case"symbol":case"undefined":return h.NULL}};(0,s.useEffect)((()=>{if(n){const e=(e=>{const t=(0,r.LF)(e),n=t.SheetNames[0];if(n){const e=t.Sheets[n],s=r.Wp.sheet_to_json(e);if(s[0])return v(!1),s}v(!0)})(n);if(e){const t=(e=>{const t={};return Object.keys(e[0]).forEach((e=>{t[e]=[]})),e.forEach((e=>Object.entries(e).map((e=>{let[n,s]=e;return t[n].push(s)})))),Object.entries(t).map((e=>{let[t,n]=e;const s=n.findIndex((e=>x(e)||null===e))>-1;console.log(n.findIndex((e=>x(e)||null===e)));const a=n.find((e=>null!==e));return{name:t,type:k(a),nullable:s}}))})(e);O(t);const n=((e,t)=>{const n=(e,n)=>{if(x(n))return null;const s=t.find((t=>t.name===e))?.type;if(void 0!==s)switch(s){case h.NULL:return null;case h.NUMBER:return Number(n);case h.BOOLEAN:return!!n;case h.STRING:return String(n)}else console.warn("can't find type")};return e.map((e=>Object.fromEntries(Object.entries(e).map((e=>{let[t,s]=e;return[t,n(t,s)]})))))})(e,t);y(n),m(JSON.stringify(n,null,"  ")),L(!1)}}}),[n]),(0,s.useEffect)((()=>{}),[N,R]);return(0,d.jsxs)(c.A,{container:!0,spacing:2,sx:{flexGrow:1},style:{padding:"16px"},children:[(0,d.jsxs)(c.A,{xs:6,children:[(0,d.jsx)(c.A,{container:!0,spacing:2,sx:{flexGrow:1},children:(0,d.jsxs)(c.A,{style:{paddingBottom:24,display:"flex"},children:[(0,d.jsx)(o.A,{onChange:e=>{t(e)},accept:".xlsx"}),(0,d.jsx)(l.Ay,{style:{marginLeft:16},startDecorator:"Root type name:",value:R,onChange:e=>C(e.target.value)})]})}),(0,d.jsx)(i.A,{className:f,value:S,error:j,onChange:e=>(e=>{m(e);try{const t=JSON.parse(e);L(!1),y(t)}catch(t){L(!0)}})(e.target.value)})]}),(0,d.jsxs)(c.A,{xs:6,children:[(0,d.jsx)(a.A,{className:u,title:"Typescript",language:"typescript",children:E}),(0,d.jsx)(a.A,{className:u,title:"C#",language:"csharp",children:U})]})]})}}}]);