"use strict";(self.webpackChunkcarrgan_io=self.webpackChunkcarrgan_io||[]).push([[9384],{4297:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>x,frontMatter:()=>d,metadata:()=>c,toc:()=>h});var s=r(4848),n=r(8453);const d={sidebar_position:11},i=void 0,c={id:"Python/request",title:"request",description:"def get( )",source:"@site/notes/Python/request.md",sourceDirName:"Python",slug:"/Python/request",permalink:"/notes/Python/request",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:11,frontMatter:{sidebar_position:11},sidebar:"tutorialSidebar",previous:{title:"\u7c7b\u578b\u63d0\u793a",permalink:"/notes/Python/typing"},next:{title:"\u5176\u4ed6",permalink:"/notes/Python/other"}},l={},h=[{value:"def get( )",id:"def-get-",level:3},{value:"Response\u5bf9\u8c61\u7684\u5c5e\u6027",id:"response\u5bf9\u8c61\u7684\u5c5e\u6027",level:3},{value:"Requests\u5e93\u7684\u5f02\u5e38",id:"requests\u5e93\u7684\u5f02\u5e38",level:3},{value:"\u6293\u53d6\u7f51\u9875\u901a\u7528\u4ee3\u7801\u6846\u67b6",id:"\u6293\u53d6\u7f51\u9875\u901a\u7528\u4ee3\u7801\u6846\u67b6",level:3},{value:"HTTP\u534f\u8bae\u548cRequests\u5e93\u65b9\u6cd5",id:"http\u534f\u8bae\u548crequests\u5e93\u65b9\u6cd5",level:3}];function o(e){const t={code:"code",h3:"h3",hr:"hr",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,n.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h3,{id:"def-get-",children:"def get( )"}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.code,{children:"r = requests.get(url,params=None,**Kwargs)"}),"\n\u7ed9\u5b9aurl\u548cget\u65b9\u6cd5\u6765\u6784\u9020\u4e00\u4e2a\u5411\u670d\u52a1\u5668\u8bf7\u6c42\u8d44\u6e90\u7684Request\u5bf9\u8c61\uff08\u5e93\u5185\u90e8\u751f\u6210\u7684\uff09\nrequests.get\u51fd\u6570\u8fd4\u56de\u7684\u5185\u5bb9\u5b58\u5728r\u91cc \u662f\u4e00\u4e2aResponse\u51fd\u6570 \u5b58\u50a8\u8fd4\u56de\u7684\u6240\u6709\u8d44\u6e90\nparams",":url","\u4e2d\u7684\u989d\u5916\u53c2\u6570\uff0c\u5b57\u5178\u6216\u5b57\u8282\u6d41\u683c\u5f0f\n**kwargs:12\u4e2a\u63a7\u5236\u8bbf\u95ee\u7684\u53c2\u6570\n",(0,s.jsx)(t.code,{children:"type(r)"}),"\u8fd4\u56der\u7684\u7c7b\u578b\n",(0,s.jsx)(t.code,{children:"r.headers"}),"\u8fd4\u56de\u9875\u9762\u7684\u5934\u90e8\u4fe1\u606f"]}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h3,{id:"response\u5bf9\u8c61\u7684\u5c5e\u6027",children:"Response\u5bf9\u8c61\u7684\u5c5e\u6027"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"\u5c5e\u6027"}),(0,s.jsx)(t.th,{children:"\u8bf4\u660e"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"r.status_code"}),(0,s.jsx)(t.td,{children:"HTTP\u8bf7\u6c42\u7684\u8fd4\u56de\u72b6\uff0c200\u6210\u529f"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"r.text"}),(0,s.jsx)(t.td,{children:"HTTP\u76f8\u5e94\u5185\u5bb9\u7684\u5b57\u7b26\u4e32\u5f62\u5f0f\uff0c\u5373url\u5bf9\u5e94\u7684\u9875\u9762\u5185\u5bb9"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"r.encoding"}),(0,s.jsx)(t.td,{children:"\u4eceHTTP header\u4e2d\u731c\u6d4b\u7684\u54cd\u5e94\u5185\u5bb9\u7f16\u7801\u65b9\u5f0f"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"r.apparent_encoding"}),(0,s.jsx)(t.td,{children:"\u4ece\u5185\u5bb9\u4e2d\u5206\u6790\u51fa\u7684\u54cd\u5e94\u5185\u5bb9\u7f16\u7801\u65b9\u5f0f"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"r.content"}),(0,s.jsx)(t.td,{children:"HTTP\u76f8\u5e94\u5185\u5bb9\u7684\u4e8c\u8fdb\u5236\u5f62\u5f0f"})]})]})]}),"\n",(0,s.jsx)(t.h3,{id:"requests\u5e93\u7684\u5f02\u5e38",children:"Requests\u5e93\u7684\u5f02\u5e38"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"\u5f02\u5e38"}),(0,s.jsx)(t.th,{children:"\u8bf4\u660e"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"requests.ConnectionError"}),(0,s.jsx)(t.td,{children:"\u7f51\u7edc\u94fe\u63a5\u9519\u8bef\u5f02\u5e38\uff0c\u5982DNS\u5f02\u5e38"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"requests.HTTPError"}),(0,s.jsx)(t.td,{children:"HTTP\u9519\u8bef\u5f02\u5e38"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"requests.URLRequired"}),(0,s.jsx)(t.td,{children:"URL\u786e\u5b9e\u5f02\u5e38"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"requests.TooManyRedirects"}),(0,s.jsx)(t.td,{children:"\u8d85\u8fc7\u6700\u5927\u91cd\u5b9a\u5411\u6b21\u6570\uff0c\u4ea7\u751f\u91cd\u5b9a\u5411\u5f02\u5e38"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"requests.ConnectTimeout"}),(0,s.jsx)(t.td,{children:"\u53ea\u662f\u94fe\u63a5\u8fdc\u7a0b\u670d\u52a1\u5668\u8d85\u65f6\u5f02\u5e38"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"requests.Timeout"}),(0,s.jsx)(t.td,{children:"\u8bf7\u6c42URL\u8d85\u65f6\uff08\u6574\u4e2a\u8fc7\u7a0b\uff09\uff0c\u4ea7\u751f\u8d85\u65f6\u5f02\u5e38"})]})]})]}),"\n",(0,s.jsx)(t.h3,{id:"\u6293\u53d6\u7f51\u9875\u901a\u7528\u4ee3\u7801\u6846\u67b6",children:"\u6293\u53d6\u7f51\u9875\u901a\u7528\u4ee3\u7801\u6846\u67b6"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-python",children:'import requests\ndef getHTMLText(url):\n\ttry:\n\t\tr = requests.get(url, timeout=3)\n\t\tr.raise_for_status()\t#\u5982\u679c\u72b6\u6001\u4e0d\u662f200\uff0c\u5f15\u53d1HTTP\u5f02\u5e38\n\t\tr.encoding = r.apparent_encoding\n\t\treturn r.text\n\texcept:\n\t\treturn "Error"\nif __name__ == "__main__":\n\turl = "https://www.baidu.com"\n\tprint(getHTMLText(url))\n'})}),"\n",(0,s.jsx)(t.h3,{id:"http\u534f\u8bae\u548crequests\u5e93\u65b9\u6cd5",children:"HTTP\u534f\u8bae\u548cRequests\u5e93\u65b9\u6cd5"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"\u65b9\u6cd5"}),(0,s.jsx)(t.th,{children:"\u8bf4\u660e"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"requests.request()"}),(0,s.jsx)(t.td,{children:"\u6784\u9020\u4e00\u4e2a\u8bf7\u6c42\uff0c\u652f\u6491\u4e00\u4e0b\u5404\u65b9\u6cd5\u7684\u57fa\u7840\u65b9\u6cd5"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"requests.get()"}),(0,s.jsx)(t.td,{children:"\u83b7\u53d6HTML\u7f51\u9875\u7684\u4e3b\u8981\u65b9\u6cd5\uff0c\u5bf9\u5e94\u4e8eHTTP\u7684GET"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"requests.head()"}),(0,s.jsx)(t.td,{children:"\u83b7\u53d6HTML\u5934\u4fe1\u606f\u7684\u65b9\u6cd5\uff0c\u5bf9\u5e94\u4e8eHTTP\u7684HEAD"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"requests.post()"}),(0,s.jsx)(t.td,{children:"\u5411HTML\u7f51\u9875\u63d0\u4ea4POST\u8bf7\u6c42\u7684\u65b9\u6cd5\uff0c\u5bf9\u5e94\u4e8eHTTP\u7684POST"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"requests.put()"}),(0,s.jsx)(t.td,{children:"\u5411HTML\u7f51\u9875\u63d0\u4ea4PUT\u8bf7\u6c42\u7684\u65b9\u6cd5\uff0c\u5bf9\u5e94\u4e8eHTTP\u7684PUT"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"requests.patch()"}),(0,s.jsx)(t.td,{children:"\u5411HTML\u7f51\u9875\u63d0\u4ea4\u5c40\u90e8\u4fee\u6539\u8bf7\u6c42\uff0c\u5bf9\u5e94\u4e8eHTTP\u7684PATCH"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"requests.delete()"}),(0,s.jsx)(t.td,{children:"\u5411HTML\u7f51\u9875\u63d0\u4ea4\u5220\u9664\u8bf7\u6c42\uff0c\u5bf9\u5e94\u4e8eHTTP\u7684DELETE"})]})]})]})]})}function x(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}},8453:(e,t,r)=>{r.d(t,{R:()=>i,x:()=>c});var s=r(6540);const n={},d=s.createContext(n);function i(e){const t=s.useContext(d);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:i(e.components),s.createElement(d.Provider,{value:t},e.children)}}}]);